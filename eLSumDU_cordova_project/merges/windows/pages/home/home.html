<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>hubPage</title>

    <link href="home.css" rel="stylesheet" />
    <script src="./../../scripts/data.js"></script>
    <script src="home.js"></script>
</head>
<body>
    <div class="hubpage fragment">
        <div id="header" role="contentinfo" data-win-control="WinJS.UI.HtmlControl" data-win-options="{uri: './pages/shared/header.html'}"></div>
        <section aria-label="Main content" role="main">
            <div class="hub" data-win-control="WinJS.UI.Hub">
                <div class="hero" data-win-control="WinJS.UI.HubSection">
                </div>
                <div class="coursesSection" data-win-control="WinJS.UI.HubSection" data-win-res="{ winControl: {'header': 'Course.title'} }"
                     data-win-options="{ onheaderinvoked: select('.pagecontrol').winControl.courseHeaderNavigate }">
                    <div class="headerTemplate" id="coursesHeader"  data-win-control="WinJS.Binding.Template">
                        <div class="win-type-large">
                            <h1 data-win-bind="innerText: title.value"></h1>
                        </div>
                    </div>
                    <div class="itemTemplate" id="courseItem" data-win-control="WinJS.Binding.Template">
                        <img src="#" data-win-bind="src: logo; alt: title"  class="pic_course"/>
                        <div class="win-type-medium" data-win-bind="textContent: title"></div>
                    </div>
                    <div class="itemslist tiles_list" data-win-control="WinJS.UI.ListView" data-win-options="{
                        itemDataSource: DL.Courses.grouped_courses.dataSource,
                        groupDataSource: DL.Courses.grouped_courses.groups.dataSource,
                        selectionMode: 'none',
                        itemTemplate: select('#courseItem'),
                        groupHeaderTemplate: select('#coursesHeader'),
                        layout: {type: WinJS.UI.GridLayout},
                        oniteminvoked: select('.pagecontrol').winControl.courseItemNavigate
                    }">
                    </div>
                </div>

                <div class="pmSection" data-win-control="WinJS.UI.HubSection" data-win-res="{ winControl: {'header': 'Messages.title'} }"
                     data-win-options="{ onheaderinvoked: select('.pagecontrol').winControl.messageHeaderNavigate }">
                    <div class="smallListIconTextTemplate" id="pmItem" data-win-control="WinJS.Binding.Template">
                        <div class="smallListIconTextItem">
                            <img src="#" data-win-bind="src: sender.image; alt: subject" class="smallListIconTextItem-Image pic_user"/>
                            <div class="smallListIconTextItem-Detail">
                                <h4 data-win-bind="textContent: subject DL.Formaters.Messages.tilteFormater"></h4>
                                <h6 data-win-bind="textContent: sender.name"></h6>
                            </div>
                        </div>
                    </div>
                    <div class="itemslist" id="messagesList" data-win-control="WinJS.UI.ListView" data-win-options="{
                        itemDataSource: DL.Messages.unread.dataSource,
                        selectionMode: 'none',
                        itemTemplate: select('#pmItem'),
                        oniteminvoked: select('.pagecontrol').winControl.messageItemNavigate
                    }">
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
</html>
